{
  "swagger": "2.0",
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Bearer token authentication"
      }
    }
  },
  "info": {
    "title": "API Documentation",
    "version": "1.0.0"
  },
  "paths": {
    "/admin/users": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get all users",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Create a new user",
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      }
    },
    "/expert/profile": {
      "get": {
        "tags": [
          "Expert"
        ],
        "summary": "Get expert profile",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": [
          "Expert"
        ],
        "summary": "Update expert profile",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/verify-otp": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Use to verify a user",
        "description": "Use to verify a user",
        "parameters": [
          {
            "name": "mobile",
            "description": "signed up mobile number",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "otp",
            "description": "otp received via Twilio",
            "in": "body",
            "required": true,
            "schema": {
              "type": "number",
              "format": "number"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "The User has been registered successfully"
          },
          "401": {
            "description": "The user registration was unsuccessful"
          }
        }
      }
    },
    "/signup": {
      "post": {
        "description": "User signup ",
        "tags": [
          "User"
        ],
        "summary": "User signup",
        "parameters": [
          {
            "name": "username",
            "description": "The name of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "email",
            "description": "The email of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string",
              "format": "email"
            }
          },
          {
            "name": "password",
            "description": "The password of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string",
              "format": "password"
            }
          },
          {
            "name": "mobile",
            "description": "The mobile number of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "number"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "The OTP sent successfully"
          },
          "401": {
            "description": "The user already exists or unsuccessful"
          }
        }
      }
    },
    "/signin": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "User login",
        "description": "User login with mobile and password",
        "parameters": [
          {
            "name": "mobile",
            "description": "The mobile number of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "number"
            }
          },
          {
            "name": "password",
            "description": "The password of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string",
              "format": "password"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "user logged in success",
            "schema": {
              "$ref": "#/definitions/Users"
            }
          },
          "401": {
            "description": "user logged in failed"
          }
        }
      }
    },
    "/get7Jobs": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Show home page Job List",
        "description": "Use to request all jobs which are available to users",
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Jobs"
              }
            }
          }
        }
      }
    },
    "/jobDetail/{id}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Job Detail",
        "description": "Use to get detail of a particular job",
        "parameters": [
          {
            "name": "electrician",
            "in": "path",
            "description": "pass jobId particular",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "type": "object",
              "items": {
                "$ref": "#/definitions/Jobs"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/updatePassword": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Update user password",
        "description": "update new pasasword of user",
        "parameters": [
          {
            "name": "old",
            "description": "The old password of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string",
              "format": "password"
            }
          },
          {
            "name": "newPass",
            "description": "The new password of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string",
              "format": "password"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/re-Verify": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Initiate verification",
        "description": "initiale verification for mobile number update",
        "parameters": [
          {
            "name": "mobile",
            "description": "The new mobile number of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/reVerify-otp": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Submit OTP",
        "description": "complete otp verification for updating mobile number update",
        "parameters": [
          {
            "name": "mobile",
            "description": "The new mobile number of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "number"
            }
          },
          {
            "name": "otp",
            "description": "otp recieved from twillio on to mobile number",
            "in": "body",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/editProfile": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Edit User Profile",
        "description": "Edit or update profile details",
        "parameters": [
          {
            "name": "name",
            "description": "The name of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "email",
            "description": "The email of the user",
            "in": "body",
            "required": true,
            "schema": {
              "type": "string",
              "format": "email"
            }
          },
          {
            "name": "image",
            "description": "The email of the user",
            "in": "body",
            "schema": {
              "type": "blob",
              "format": "file"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/getSlots/{id}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Time Slots for particular job",
        "description": "get slots of job",
        "parameters": [
          {
            "name": "electrician",
            "in": "path",
            "description": "pass jobId particular",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "type": "array",
              "items": {
                "slots": "22 Apr 2023, 10:00 AM "
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/addAddress": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Add a new Address for User",
        "description": "Add a new Address for User",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "address name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "house",
            "in": "path",
            "description": "address house",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "street",
            "in": "path",
            "description": "address street",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pincode",
            "in": "path",
            "description": "address pincode",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/address": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "get Address for User",
        "description": "get available Address for User",
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "type": "array",
                "$ref": "#/definitions/Address"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/bookJob": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Book a job for user",
        "description": "Add booking",
        "parameters": [
          {
            "name": "time",
            "in": "path",
            "description": "time slot",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address",
            "in": "path",
            "description": "address selected",
            "required": true,
            "schema": {
              "items":{
                "type": "object",
                "$ref": "#/definitions/Address" 
              }
            }
          },
          {
            "name": "date",
            "in": "path",
            "description": "booking date",
            "required": true,
            "schema": {
              "type": "date"
            }
          },
          {
            "name": "jobId",
            "in": "path",
            "description": "jobId reference",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "type": "object",
                "$ref": "#/definitions/Bookings"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/booking/{id}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get Booking Detail",
        "description": "Get Booking Detail",
        "parameters": [
          {
            "name": "id",
            "in": "http",
            "description": "booking ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "type": "object",
                "$ref": "#/definitions/Bookings"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/approveEstimate/{id}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Approve Estimation",
        "description": "Approve Estimation",
        "parameters": [
          {
            "name": "id",
            "in": "http",
            "description": "booking ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "type": "object",
                "$ref": "#/definitions/Bookings"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/decline": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Decline Estimation",
        "description": "Decline Estimation",
        "parameters": [
          {
            "name": "id",
            "in": "body",
            "description": "booking ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "text",
            "in": "body",
            "description": "Decline Reason",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "type": "object",
                "$ref": "#/definitions/Bookings"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/cancelBooking": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Cancel Booking",
        "description": "Cancel Booking",
        "parameters": [
          {
            "name": "id",
            "in": "body",
            "description": "booking ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "text",
            "in": "body",
            "description": "Cancel Reason",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/myBookings": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get All Bookings ",
        "description": "Get All Bookings by user",
        
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "type": "array",
                "$ref": "#/definitions/Bookings"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/payment": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "start Razorpay online payment ",
        "description": "submitting amount to be paid",
        "parameters": [
          {
            "name": "amount",
            "in": "body",
            "description": "pay amount",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "type": "object"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/paymentVerify": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Verify Razorpay online payment ",
        "description": "verify payment and complete order",
        "parameters": [
          {
            "name": "bookId",
            "in": "body",
            "description": "booking id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "razorpay_order_id",
            "in": "body",
            "description": "razorpay order id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "razorpay_payment_id",
            "in": "body",
            "description": "razorpay payment id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "razorpay_signature",
            "in": "body",
            "description": "payment signature",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/getContacts": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get chat contacts for user ",
        "description": "Get chat contacts for user ",
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response",
            "schema": {
              "items": {
                "type": "array",
                "$ref": "#/definitions/Experts"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/getMessage": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "get previous chat  ",
        "description": "get previous chat for selected expert ",
        "parameters": [
          {
            "name": "from",
            "in": "body",
            "description": "from ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "in": "body",
            "description": "to ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response",
            "schema": {
              "items": {
                "type": "array",
                "$ref": "#/definitions/Message"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/addMessage": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "add a new message ",
        "description": "add a new message ",
        "parameters": [
          {
            "name": "from",
            "in": "body",
            "description": "from ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "in": "body",
            "description": "to ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "message",
            "in": "body",
            "description": "text content",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "model",
            "in": "body",
            "description": "mentioning sender model",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/addReview": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "add a new Review ",
        "description": "add a new Review ",
        "parameters": [
          {
            "name": "reviewBy",
            "in": "body",
            "description": "model role",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "myId",
            "in": "body",
            "description": "reviever ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "reviewModel",
            "in": "body",
            "description": "model",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "myIdModel",
            "in": "body",
            "description": "who review sender model",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "jobId",
            "in": "body",
            "description": "job ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "bookId",
            "in": "body",
            "description": "booking ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "message",
            "in": "body",
            "description": "text content",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "rating",
            "in": "body",
            "description": "star rating",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "items": {
                "type": "object",
                "$ref": "#/definitions/Bookings"
              }
            }
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/updateReview": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "update a new Review ",
        "description": "update a new Review ",
        "parameters": [
         
          {
            "name": "id",
            "in": "body",
            "description": "reviever ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "message",
            "in": "body",
            "description": "text content",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "rating",
            "in": "body",
            "description": "star rating",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/verifyCancel": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": " Premature cancel & Verify Razorpay online payment ",
        "description": "payment verify and cancel",
        "parameters": [
          {
            "name": "bookId",
            "in": "body",
            "description": "booking id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "razorpay_order_id",
            "in": "body",
            "description": "razorpay order id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "razorpay_payment_id",
            "in": "body",
            "description": "razorpay payment id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "razorpay_signature",
            "in": "body",
            "description": "payment signature",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response"
          },
          "400": {
            "description": "A Unsuccessful response"
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/getAllJobs": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Show All jobs listed",
        "description": "Use to request all jobs which are available to users",
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Jobs"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/getvouchers": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Show All Vouchers",
        "description": "Use to request all vouchers which are available to users",
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Voucher"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/redeemVoucher": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Buy a voucher",
        "description": "Buy a voucher using loyality points, which are available to users",
        "parameters": [
          {
            "name": "id",
            "in": "body",
            "description": "voucher id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "points",
            "in": "body",
            "description": "points to be reduced",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/applyVoucher": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Use a voucher",
        "description": "Use a voucher and avail discount",
        "parameters": [
          {
            "name": "id",
            "in": "body",
            "description": "voucher id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "bookId",
            "in": "body",
            "description": "booking ID",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/removeVoucher": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Remove a voucher",
        "description": "Remove a voucher that applied in booking page",
        "parameters": [
          {
            "name": "id",
            "in": "body",
            "description": "voucher id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "bookId",
            "in": "body",
            "description": "booking ID",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/User"
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    }
  },
  "definitions": {
    "User": {
      "type": "object",
      "properties": {
        "auth": {
          "type": "boolean"
        },
        "result": {
          "type": "object",
          "properties": {
            "username": {
              "type": "string",
              "required": true,
              "trim": true
            },
            "email": {
              "type": "string",
              "required": true,
              "unique": true,
              "lowercase": true,
              "trim": true,
              "format": "email"
            },
            "mobile": {
              "type": "string",
              "unique": true,
              "required": true
            },
            "image": {
              "type": "string"
            },
            "address": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Address"
              }
            },
            "isBanned": {
              "type": "boolean",
              "default": true
            },
            "vouchers": {
              "type": "array",
              "items": {
                "type": "object"
              }
            },
            "loyality": {
              "type": "number",
              "default": 0
            }
          }
        },
        "token": {
          "type": "string"
        }
      }
    },
    "Jobs": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        },
        "job_role": {
          "type": "string",
          "required": true,
          "unique": true,
          "lowercase": true,
          "trim": true
        },
        "image": {
          "type": "string"
        },
        "base_rate": {
          "type": "number",
          "required": true
        },
        "add_rate": {
          "type": "number",
          "required": true
        },
        "listed": {
          "type": "boolean",
          "default": true
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "Expert": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "required": true,
          "trim": true
        },
        "email": {
          "type": "string",
          "required": true,
          "unique": true,
          "lowercase": true,
          "trim": true,
          "format": "email"
        },
        "mobile": {
          "type": "string",
          "unique": true,
          "required": true
        },
        "image": {
          "type": "string"
        },
        "skills": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "slots": {
          "type": "array"
        },
        "bookedSlots": {
          "type": "array"
        },
        "identity": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "front": {
              "type": "string"
            },
            "back": {
              "type": "string"
            },
            "status": {
              "type": "string",
              "default": "initial"
            },
            "reason": {
              "type": "string"
            }
          }
        },
        "rating": {
          "type": "array"
        },
        "isBanned": {
          "type": "boolean",
          "default": true
        },
        "isVerified": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "Address": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "house": {
          "type": "string"
        },
        "street": {
          "type": "string"
        },
        "pincode": {
          "type": "number"
        }
      }
    },
    "Voucher": {
      "type": "object",
      "properties": {
        "vouchername": {
          "type": "string",
          "description": "The name of the voucher",
          "example": "Voucher 1",
          "required": true
        },
        "code": {
          "type": "string",
          "description": "The voucher code",
          "example": "CODE123",
          "required": true
        },
        "discount": {
          "type": "number",
          "description": "The discount amount",
          "example": 10,
          "required": true
        },
        "endDate": {
          "type": "string",
          "format": "date-time",
          "description": "The end date of the voucher",
          "example": "2023-12-31T23:59:59Z",
          "required": true
        },
        "points": {
          "type": "number",
          "description": "The points required for the voucher",
          "example": 100,
          "required": true
        },
        "image": {
          "type": "string",
          "description": "The URL of the voucher image",
          "example": "https://example.com/voucher1.png",
          "required": true
        },
        "users": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "An array of user IDs associated with the voucher",
          "uniqueItems": true
        },
        "listed": {
          "type": "boolean",
          "description": "Indicates if the voucher is listed",
          "example": true,
          "required": true,
          "default": true
        }
      },
      "required": [
        "vouchername",
        "code",
        "discount",
        "endDate",
        "points",
        "image",
        "listed"
      ]
    },
    "Bookings": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "object",
          "$ref": "#/definitions/User",
          "required": true
        },
        "expertId": {
          "type": "object",
          "$ref": "#/definitions/Experts",
          "required": true
        },
        "jobId": {
          "type": "string",
          "$ref": "#/definitions/Jobs",
          "required": true
        },
        "bill_amount": {
          "type": "number"
        },
        "address": {
          "type": "object",
          "$ref": "#/definitions/Address"
        },
        "slot": {
          "type": "string",
          "required": true
        },
        "estimate": {
          "type": "object",
          "properties": {
            "hours": {
              "type": "number",
              "default": 2
            },
            "parts": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "pName": {
                    "type": "string"
                  },
                  "price": {
                    "type": "number"
                  }
                }
              }
            },
            "amount": {
              "type": "number"
            },
            "reason": {
              "type": "string"
            },
            "status": {
              "type": "string",
              "default": "pending"
            }
          }
        },
        "payment": {
          "type": "object",
          "properties": {
            "invoice": {
              "type": "string"
            },
            "payment_method": {
              "type": "string"
            },
            "payment_id": {
              "type": "string",
              "unique": true,
              "lowercase": true
            },
            "payment_status": {
              "type": "string",
              "default": "pending"
            }
          }
        },
        "status": {
          "type": "string",
          "default": "pending"
        },
        "booking_date": {
          "type": "string",
          "format": "date-time"
        },
        "jobStart": {
          "type": "string",
          "format": "date-time"
        },
        "jobEnd": {
          "type": "string",
          "format": "date-time"
        },
        "reason": {
          "type": "string"
        },
        "voucherId": {
          "type": "string"
        },
        "discount": {
          "type": "number"
        }
      }
    },
    "Experts": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "required": true
        },
        "email": {
          "type": "string",
          "required": true,
          "unique": true,
          "lowercase": true
        },
        "mobile": {
          "type": "string",
          "unique": true,
          "required": true
        },
        "image": {
          "type": "string"
        },
        "skills": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/Jobs"
          }
        },
        "slots": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "bookedSlots": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "identity": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "front": {
              "type": "string"
            },
            "back": {
              "type": "string"
            },
            "status": {
              "type": "string",
              "default": "initial"
            },
            "reason": {
              "type": "string"
            }
          }
        },
        "rating": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "isBanned": {
          "type": "boolean",
          "default": true
        },
        "isVerified": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "Message": {
      "type": "object",
      "properties": {
        "message": {
          "type": "object",
          "properties": {
            "text": {
              "type": "string"
            }
          },
          "required": [
            "text"
          ]
        },
        "users": {
          "type": "array"
        },
        "sender": {
          "type": "string",
          "format": "uuid",
          "description": "The ID of the sender",
          "example": "615e4734c2ee4b5b71c536c2"
        },
        "senderModel": {
          "type": "string",
          "enum": [
            "user",
            "expert"
          ],
          "description": "The model of the sender (user or expert)",
          "example": "user"
        }
      },
      "required": [
        "message",
        "sender",
        "senderModel"
      ]
    },
    "Review": {
      "type": "object",
      "properties": {
        "reviewBy": {
          "type": "string",
          "format": "uuid",
          "description": "The ID of the reviewer",
          "example": "615e4734c2ee4b5b71c536c2"
        },
        "myId": {
          "type": "string",
          "format": "uuid",
          "description": "The ID of the reviewed entity",
          "example": "615e4734c2ee4b5b71c536c2"
        },
        "reviewModel": {
          "type": "string",
          "enum": [
            "user",
            "expert"
          ],
          "description": "The model of the reviewer (user or expert)",
          "example": "user"
        },
        "myIdModel": {
          "type": "string",
          "enum": [
            "user",
            "expert"
          ],
          "description": "The model of the reviewed entity (user or expert)",
          "example": "user"
        },
        "jobId": {
          "items": {
            "type": "object",
            "$ref": "#/definitions/Jobs"
          }
        },
        "bookId": {
          "type": "string",
          "format": "uuid",
          "description": "The ID of the associated booking",
          "example": "615e4734c2ee4b5b71c536c2"
        },
        "message": {
          "type": "string",
          "description": "The review message",
          "example": "Great service!"
        },
        "rating": {
          "type": "number",
          "description": "The review rating",
          "example": 5
        }
      },
      "required": [
        "reviewBy",
        "myId",
        "reviewModel",
        "myIdModel",
        "jobId",
        "bookId",
        "message",
        "rating"
      ]
    }
  },
  "tags": [
    {
      "name": "User",
      "description": "Endpoints for user operations"
    },
    {
      "name": "Expert",
      "description": "Endpoints for expert operations"
    },
    {
      "name": "Admin",
      "description": "Endpoints for admin operations"
    }
  ]
}